PORT=3001
# Production default (hosting behind Nginx Proxy Manager)
DATABASE_URL=postgresql://app:app@db:5432/benchmarks?schema=public
####################################################################
# Server hardening options
####################################################################
# Default to your production domain (adjust only if self-hosting elsewhere)
CORS_ORIGIN=https://encodingdb.platinumlabs.dev
BODY_LIMIT=1mb
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=300
API_KEY= # Deprecated: not used by server; ingest is public unless HMAC enabled
# HMAC signing for ingest; set a strong secret in production (signed or hybrid mode)
INGEST_HMAC_SECRET=
INGEST_MAX_SKEW_SECONDS=300

# Ingest mode: public | signed | hybrid
INGEST_MODE=public

# Submit token TTL(seconds) and optional Proof-of-Work (PoW)
SUBMIT_TOKEN_TTL_SECONDS=60
POW_ENABLED=0
POW_DIFFICULTY=0

# API key auth (beta)
API_KEY_HEADER=X-API-Key
SUBMIT_PER_KEY_PER_MINUTE=30
SUBMIT_PER_KEY_PER_DAY=1000

# Disk watchdog (reject submissions if free space < threshold)
DISK_MIN_FREE_GB=25
DISK_PATH=/

# Admin API (protect via Cloudflare/Nginx allowlist)
ADMIN_TOKEN=


